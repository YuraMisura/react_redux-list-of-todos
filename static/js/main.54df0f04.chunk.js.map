{"version":3,"sources":["features/currentTodo.ts","features/filter.ts","features/todos.ts","app/store.ts","app/hooks.ts","components/TodoList/TodoList.tsx","components/TodoFilter/TodoFilter.tsx","components/Loader/Loader.tsx","api.ts","components/ErrorNotification/ErrorNotification.tsx","components/TodoModal/TodoModal.tsx","App.tsx","services/Filter.ts","index.tsx"],"names":["actions","todo","type","payload","removeTodo","currentTodoReducer","state","arguments","length","undefined","action","value","filterReducer","query","status","todos","todosReducer","rootReducer","combineReducers","currentTodo","filter","store","createStore","composeWithDevTools","applyMiddleware","thunk","useDispatch","useAppSelector","useSelector","TodoList","_ref","isloading","dispatch","selected","_jsx","_Fragment","children","_jsxs","className","map","_ref2","id","completed","title","userId","cn","onClick","currentTodoActions","TodoFilter","onSubmit","event","preventDefault","onChange","selectedValue","target","filterActions","placeholder","style","pointerEvents","reset","Loader","get","url","fullURL","delay","Promise","resolve","setTimeout","then","fetch","res","json","ErrorNotification","React","memo","errorMessage","TodoModal","isLoading","setIsLoading","useState","isAnyUserActive","setIsAnyUserActive","hasErrorMessage","setHasErrorMessage","useEffect","concat","catch","finally","href","email","name","App","selectedTodo","filteredTodos","setFilteredTodos","date","todosAction","toUpperCase","includes","trim","filterAndSortTodos","Root","Provider","Router","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.54df0f04.chunk.js","sourcesContent":["import { Todo } from '../types/Todo';\n\n// we use string literal as a type to avoid mistype in future\ntype RemoveTodoAction = { type: 'currentTodo/REMOVE' };\n\n// payload is a typical name for an action data\ntype SetTodoAction = {\n  type: 'currentTodo/SET';\n  payload: Todo;\n};\n\n// Action creator return type protect us from a mistype\nconst removeTodo = (): RemoveTodoAction => ({ type: 'currentTodo/REMOVE' });\n\nconst setTodo = (todo: Todo): SetTodoAction => ({\n  type: 'currentTodo/SET',\n  payload: todo,\n});\n\n// These actions will be used in the application\nexport const actions = { setTodo, removeTodo };\n\ntype State = Todo | null;\ntype Action = SetTodoAction | RemoveTodoAction;\n\nconst currentTodoReducer = (\n  state: State = null,\n  action: Action,\n): State => {\n  switch (action.type) {\n    case 'currentTodo/REMOVE':\n      return null;\n\n    case 'currentTodo/SET':\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\n\nexport default currentTodoReducer;\n","type SetQueryAction = { type: 'filterQuery/SET', payload: string };\ntype SetStatusAction = { type: 'filterStatus/SET', payload: string };\n\nconst setQuery = (value: string): SetQueryAction => ({\n  type: 'filterQuery/SET',\n  payload: value,\n});\nconst setStatus = (value: string): SetStatusAction => ({\n  type: 'filterStatus/SET',\n  payload: value,\n});\n\ntype Action = SetQueryAction | SetStatusAction;\nexport const actions = { setQuery, setStatus };\n\nconst filterReducer = (\n  state = {\n    query: '',\n    status: 'all',\n  },\n  action: Action,\n) => {\n  switch (action.type) {\n    case 'filterQuery/SET':\n      return { ...state, query: action.payload };\n\n    case 'filterStatus/SET':\n      return { ...state, status: action.payload };\n\n    default:\n      return state;\n  }\n};\n\nexport default filterReducer;\n","import { Todo } from '../types/Todo';\n\ntype SetTodos = { type: 'todos/SET', payload: Todo[] };\ntype Actions = SetTodos;\n\nconst setTodos = (todos: Todo[]): SetTodos => ({\n  type: 'todos/SET',\n  payload: todos,\n});\n\nexport const actions = { setTodos };\n\nconst todosReducer = (\n  todos: Todo[] = [],\n  action: Actions,\n): Todo[] => {\n  switch (action.type) {\n    case 'todos/SET':\n      return [...todos, ...action.payload];\n    default:\n      return [...todos];\n  }\n};\n\nexport default todosReducer;\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\n\nimport currentTodoReducer from '../features/currentTodo';\nimport filterReducer from '../features/filter';\nimport todosReducer from '../features/todos';\n\nconst rootReducer = combineReducers({\n  currentTodo: currentTodoReducer,\n  filter: filterReducer,\n  todos: todosReducer,\n});\n\n// The `store` is passed to the Provider in `/src/index.tsx`\nexport const store = createStore(\n  rootReducer,\n  composeWithDevTools(\n    applyMiddleware(thunk),\n  ),\n);\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport { AppDispatch, RootState } from './store';\n\nexport const useAppDispatch: () => AppDispatch = useDispatch;\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","/* eslint-disable max-len */\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport cn from 'classnames';\nimport { Todo } from '../../types/Todo';\nimport { useAppSelector } from '../../app/hooks';\nimport { actions as currentTodoActions } from '../../features/currentTodo';\n\ntype Props = {\n  todos: Todo[] | null,\n  isloading: boolean,\n};\n\nexport const TodoList: React.FC<Props> = ({\n  todos,\n  isloading,\n}) => {\n  const dispatch = useDispatch();\n  const selected = useAppSelector(state => state.currentTodo);\n\n  const onSelectedTodo = (todo: Todo) => {\n    dispatch(currentTodoActions.setTodo(todo));\n  };\n\n  return (\n    <>\n      {!todos?.length && !isloading ? (\n        <p className=\"notification is-warning\">\n          There are no todos matching current filter criteria\n        </p>\n      ) : (\n        <table className=\"table is-narrow is-fullwidth\">\n          <thead>\n            <tr>\n              <th>#</th>\n\n              <th>\n                <span className=\"icon\">\n                  <i className=\"fas fa-check\" />\n                </span>\n              </th>\n\n              <th>Title</th>\n              <th> </th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {todos?.map(({\n              id, completed, title, userId,\n            }) => (\n              <tr\n                key={id}\n                data-cy=\"todo\"\n                className={cn({ 'has-background-info-light': selected })}\n              >\n                <td className=\"is-vcentered\">{id}</td>\n                <td className=\"is-vcentered\">\n                  <span className=\"icon\" data-cy=\"iconCompleted\">\n                    {completed && (\n                      <i className=\"fas fa-check\" />\n                    )}\n                  </span>\n                </td>\n                <td className=\"is-vcentered is-expanded\">\n                  <p className={\n                    completed ? 'has-text-success' : 'has-text-danger'\n                  }\n                  >\n                    {title}\n                  </p>\n                </td>\n                <td className=\"has-text-right is-vcentered\">\n                  <button\n                    data-cy=\"selectButton\"\n                    className=\"button\"\n                    type=\"button\"\n                    onClick={() => onSelectedTodo({\n                      id, completed, title, userId,\n                    })}\n                  >\n                    <span className=\"icon\">\n                      <i className={cn('far', {\n                        'fa-eye-slash': selected?.id === id,\n                        'far fa-eye': selected?.id !== id,\n                      })}\n                      />\n                    </span>\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </>\n  );\n};\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { actions as filterActions } from '../../features/filter';\nimport { useAppSelector } from '../../app/hooks';\nimport { Status } from '../../types/Status';\n\nexport const TodoFilter: React.FC = () => {\n  const dispatch = useDispatch();\n  const query = useAppSelector(state => state.filter.query);\n  const status = useAppSelector(state => state.filter.status);\n\n  const handleChangeStatus = (\n    event: React.ChangeEvent<HTMLSelectElement>,\n  ) => {\n    const selectedValue: Status = event.target.value as Status;\n\n    dispatch(filterActions.setStatus(selectedValue));\n  };\n\n  const handleChangeQuery = (\n    event: React.ChangeEvent<HTMLInputElement>,\n  ) => {\n    dispatch(filterActions.setQuery(event.target.value));\n  };\n\n  const reset = () => {\n    dispatch(filterActions.setQuery(''));\n    dispatch(filterActions.setStatus('all'));\n  };\n\n  return (\n    <form\n      className=\"field has-addons\"\n      onSubmit={(event) => {\n        event.preventDefault();\n      }}\n    >\n      <p className=\"control\">\n        <span className=\"select\">\n          <select\n            data-cy=\"statusSelect\"\n            onChange={handleChangeStatus}\n            value={status}\n          >\n            <option value=\"all\">All</option>\n            <option value=\"active\">Active</option>\n            <option value=\"completed\">Completed</option>\n          </select>\n        </span>\n      </p>\n\n      <p className=\"control is-expanded has-icons-left has-icons-right\">\n        <input\n          data-cy=\"searchInput\"\n          type=\"text\"\n          className=\"input\"\n          placeholder=\"Search...\"\n          value={query}\n          onChange={handleChangeQuery}\n        />\n        <span className=\"icon is-left\">\n          <i className=\"fas fa-magnifying-glass\" />\n        </span>\n\n        <span className=\"icon is-right\" style={{ pointerEvents: 'all' }}>\n          {query && (\n            /* eslint-disable-next-line jsx-a11y/control-has-associated-label */\n            <button\n              data-cy=\"clearSearchButton\"\n              type=\"button\"\n              className=\"delete\"\n              onClick={reset}\n            />\n          )}\n        </span>\n      </p>\n    </form>\n  );\n};\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader: React.FC = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { Todo } from './types/Todo';\nimport { User } from './types/User';\n\n// eslint-disable-next-line max-len\nconst BASE_URL = 'https://mate-academy.github.io/react_dynamic-list-of-todos/api';\n\nfunction wait(delay: number): Promise<void> {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\nfunction get<T>(url: string): Promise<T> {\n  // eslint-disable-next-line prefer-template\n  const fullURL = BASE_URL + url + '.json';\n\n  return wait(300)\n    .then(() => fetch(fullURL))\n    .then(res => res.json());\n}\n\nexport const getTodos = () => get<Todo[]>('/todos');\n\nexport const getUser = (userId: number) => get<User>(`/users/${userId}`);\n","import React from 'react';\n\ntype Props = {\n  errorMessage: string,\n};\n\nexport const ErrorNotification: React.FC<Props> = React.memo((\n  { errorMessage },\n) => {\n  return (\n    <p className=\"notification is-danger\">\n      {errorMessage}\n    </p>\n  );\n});\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useAppSelector } from '../../app/hooks';\nimport { Loader } from '../Loader';\nimport { getUser } from '../../api';\nimport { User } from '../../types/User';\nimport { actions as currentTodoActions } from '../../features/currentTodo';\nimport { ErrorNotification } from '../ErrorNotification/ErrorNotification';\n\nexport const TodoModal: React.FC = () => {\n  const dispatch = useDispatch();\n  const selected = useAppSelector(state => state.currentTodo);\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [isAnyUserActive, setIsAnyUserActive] = useState<User | null>(null);\n  const [hasErrorMessage, setHasErrorMessage] = useState('');\n\n  useEffect(() => {\n    setIsLoading(true);\n    setHasErrorMessage('');\n\n    if (selected) {\n      getUser(selected.userId)\n        .then(setIsAnyUserActive)\n        .catch(() => setHasErrorMessage('Smt went wrong'))\n        .finally(() => setIsLoading(false));\n    }\n  }, [selected, selected?.userId]);\n\n  const closeTodoInfo = () => {\n    dispatch(currentTodoActions.removeTodo());\n  };\n\n  return (\n    <div className=\"modal is-active\" data-cy=\"modal\">\n      <div className=\"modal-background\" />\n\n      {isLoading && <Loader />}\n\n      {!!isAnyUserActive && !isLoading && !hasErrorMessage && (\n        <div className=\"modal-card\">\n          <header className=\"modal-card-head\">\n            <div\n              className=\"modal-card-title has-text-weight-medium\"\n              data-cy=\"modal-header\"\n            >\n              {`Todo #${selected?.id}`}\n            </div>\n\n            {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n            <button\n              type=\"button\"\n              className=\"delete\"\n              data-cy=\"modal-close\"\n              onClick={() => closeTodoInfo()}\n            />\n          </header>\n\n          <div className=\"modal-card-body\">\n            <p\n              className=\"block\"\n              data-cy=\"modal-title\"\n            >\n              {selected?.title}\n            </p>\n\n            <p className=\"block\" data-cy=\"modal-user\">\n              {selected?.completed ? (\n                <strong className=\"has-text-success\">Done</strong>\n              ) : (\n                <strong className=\"has-text-danger\">Planned</strong>\n              )}\n\n              {' by '}\n              <a href={`mailto:${isAnyUserActive?.email}`}>\n                {isAnyUserActive.name}\n              </a>\n            </p>\n          </div>\n        </div>\n      )}\n\n      {hasErrorMessage && <ErrorNotification errorMessage={hasErrorMessage} />}\n    </div>\n  );\n};\n","/* eslint-disable max-len */\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { useAppSelector } from './app/hooks';\nimport { TodoList } from './components/TodoList';\nimport { TodoFilter } from './components/TodoFilter';\nimport { TodoModal } from './components/TodoModal';\nimport { Loader } from './components/Loader';\nimport { getTodos } from './api';\nimport { actions as todosAction } from './features/todos';\nimport { filterAndSortTodos } from './services/Filter';\nimport { Todo } from './types/Todo';\nimport { ErrorNotification } from './components/ErrorNotification/ErrorNotification';\n\nexport const App: React.FC = () => {\n  const dispatch = useDispatch();\n  const todos = useAppSelector(state => state.todos);\n  const selectedTodo = useAppSelector(state => state.currentTodo);\n  const { query, status } = useAppSelector(state => state.filter);\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasErrorMessage, setHasErrorMessage] = useState('');\n  const [filteredTodos, setFilteredTodos] = useState<Todo[]>([]);\n\n  useEffect(() => {\n    setIsLoading(true);\n    setHasErrorMessage('');\n\n    getTodos()\n      .then(date => {\n        dispatch(todosAction.setTodos(date));\n      })\n      .catch(() => setHasErrorMessage('Try again later'))\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  useEffect(() => {\n    setFilteredTodos(filterAndSortTodos(query, status, todos));\n  }, [query, status, todos]);\n\n  return (\n    <>\n      <div className=\"section\">\n        <div className=\"container\">\n          <div className=\"box\">\n            <h1 className=\"title\">Todos:</h1>\n\n            <div className=\"block\">\n              <TodoFilter />\n            </div>\n\n            <div className=\"block\">\n              {isLoading && (<Loader />)}\n\n              {!isLoading && !hasErrorMessage && (\n                <TodoList\n                  todos={filteredTodos}\n                  isloading={isLoading}\n                />\n              )}\n\n              {!!hasErrorMessage && <ErrorNotification errorMessage={hasErrorMessage} />}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {selectedTodo && (\n        <TodoModal />\n      )}\n    </>\n  );\n};\n","import { Todo } from '../types/Todo';\n\nexport function filterAndSortTodos(\n  query: string,\n  status: string,\n  todos: Todo[],\n) {\n  const filteredTodo = todos\n    .filter((todo) => {\n      if (status === 'active') {\n        return !todo.completed;\n      }\n\n      if (status === 'completed') {\n        return todo.completed;\n      }\n\n      return true;\n    })\n    .filter((todo) => {\n      return todo.title.toUpperCase().includes(query.toUpperCase().trim());\n    });\n\n  return filteredTodo;\n}\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport { store } from './app/store';\nimport { App } from './App';\n\n// Just a convenient component with all the wrappers for the `App`\n// The Router component (if you use it) should be placed inside the Provider\nconst Root = () => (\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}